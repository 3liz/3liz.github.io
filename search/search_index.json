{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"3Liz","text":"<p>3Liz documentation about :</p> <ul> <li>Lizmap modules</li> <li>QGIS Plugins</li> <li>Server tools</li> <li>Tutorials for some softwares and tools</li> <li>etc</li> </ul>"},{"location":"links/","title":"Links","text":"<ul> <li>3Liz</li> <li>Lizmap hosting</li> <li>Packages</li> </ul>"},{"location":"lizmap-i18n-stats/","title":"Lizmap i18n stats","text":"<p>Tip</p> <p>Translations are available on Transifex, no development knowledge is required.</p> <p>These statistics are about the Lizmap Web Client application only, for the two current maintained branches and the next major version combined.</p> <p>Statistics updated: 2024-04-02</p> Number of strings Number of target languages Overall Translation ratio 3673 27 55.31 Language Translation ratio (%) French \ud83c\uddeb\ud83c\uddf7 <p>100.0</p> Portuguese \ud83c\uddf5\ud83c\uddf9 <p>100.0</p> Romanian \ud83c\uddf7\ud83c\uddf4 <p>99.95</p> Italian \ud83c\uddee\ud83c\uddf9 <p>97.79</p> Czech \ud83c\udde8\ud83c\uddff <p>95.89</p> Polish (Poland) \ud83c\uddf5\ud83c\uddf1 <p>88.21</p> Dutch \ud83c\uddf3\ud83c\uddf1 <p>84.13</p> Japanese \ud83c\uddef\ud83c\uddf5 <p>74.46</p> Ukrainian (Ukraine) \ud83c\uddfa\ud83c\udde6 <p>71.77</p> Russian \ud83c\uddf7\ud83c\uddfa <p>71.52</p> German \ud83c\udde9\ud83c\uddea <p>67.06</p> Galician <p>64.58</p> Slovak \ud83c\uddf8\ud83c\uddf0 <p>61.8</p> Portuguese (Brazil) \ud83c\udde7\ud83c\uddf7 <p>55.73</p> Swedish (Sweden) \ud83c\uddf8\ud83c\uddea <p>55.59</p> Spanish \ud83c\uddea\ud83c\uddf8 <p>54.7</p> Slovenian \ud83c\uddf8\ud83c\uddee <p>48.68</p> Hungarian (Hungary) \ud83c\udded\ud83c\uddfa <p>48.3</p> Finnish \ud83c\uddeb\ud83c\uddee <p>45.06</p> Basque <p>31.83</p> Greek \ud83c\uddec\ud83c\uddf7 <p>25.62</p> Bulgarian \ud83c\udde7\ud83c\uddec <p>23.69</p> Norwegian \ud83c\uddf3\ud83c\uddf4 <p>16.28</p> Spanish (Argentina) \ud83c\udde6\ud83c\uddf7 <p>5.45</p> Indonesian \ud83c\uddee\ud83c\udde9 <p>4.22</p> Serbian (Cyrillic) \ud83c\uddf7\ud83c\uddf8 <p>1.2</p> Vietnamese (Viet Nam) <p>0.0</p>"},{"location":"lizmap/","title":"Lizmap Web Client","text":"<p>Visit the main dedicated website for the Lizmap documentation.</p>"},{"location":"lizmap/#module","title":"Module","text":"<p>Additional modules can be added on top of Lizmap</p> <ul> <li>PgMetadata</li> <li>PgRouting</li> <li>AltiProfil</li> <li>...</li> </ul>"},{"location":"lizmap/#french-use-cases","title":"French use cases","text":"<ul> <li>Address module</li> <li>Cadastre module</li> <li>OpenADS module</li> <li>NetADS module</li> <li>Oxalis ADS</li> </ul>"},{"location":"lizmap/#api-documentation","title":"API documentation","text":"<ul> <li>PHP and JavaScript</li> </ul>"},{"location":"lizmap/#translations","title":"Translations","text":"<p>Tip</p> <p>Translations are available on Transifex, no development knowledge is required.</p> <p>These statistics are about the Lizmap Web Client application only, for the two current maintained branches and the next major version combined.</p> <p>Statistics updated: 2024-04-02</p> Number of strings Number of target languages Overall Translation ratio 3673 27 55.31 Language Translation ratio (%) French \ud83c\uddeb\ud83c\uddf7 <p>100.0</p> Portuguese \ud83c\uddf5\ud83c\uddf9 <p>100.0</p> Romanian \ud83c\uddf7\ud83c\uddf4 <p>99.95</p> Italian \ud83c\uddee\ud83c\uddf9 <p>97.79</p> Czech \ud83c\udde8\ud83c\uddff <p>95.89</p> Polish (Poland) \ud83c\uddf5\ud83c\uddf1 <p>88.21</p> Dutch \ud83c\uddf3\ud83c\uddf1 <p>84.13</p> Japanese \ud83c\uddef\ud83c\uddf5 <p>74.46</p> Ukrainian (Ukraine) \ud83c\uddfa\ud83c\udde6 <p>71.77</p> Russian \ud83c\uddf7\ud83c\uddfa <p>71.52</p> German \ud83c\udde9\ud83c\uddea <p>67.06</p> Galician <p>64.58</p> Slovak \ud83c\uddf8\ud83c\uddf0 <p>61.8</p> Portuguese (Brazil) \ud83c\udde7\ud83c\uddf7 <p>55.73</p> Swedish (Sweden) \ud83c\uddf8\ud83c\uddea <p>55.59</p> Spanish \ud83c\uddea\ud83c\uddf8 <p>54.7</p> Slovenian \ud83c\uddf8\ud83c\uddee <p>48.68</p> Hungarian (Hungary) \ud83c\udded\ud83c\uddfa <p>48.3</p> Finnish \ud83c\uddeb\ud83c\uddee <p>45.06</p> Basque <p>31.83</p> Greek \ud83c\uddec\ud83c\uddf7 <p>25.62</p> Bulgarian \ud83c\udde7\ud83c\uddec <p>23.69</p> Norwegian \ud83c\uddf3\ud83c\uddf4 <p>16.28</p> Spanish (Argentina) \ud83c\udde6\ud83c\uddf7 <p>5.45</p> Indonesian \ud83c\uddee\ud83c\udde9 <p>4.22</p> Serbian (Cyrillic) \ud83c\uddf7\ud83c\uddf8 <p>1.2</p> Vietnamese (Viet Nam) <p>0.0</p>"},{"location":"plugins/","title":"QGIS Plugins","text":"<p>Some plugins are available on https://plugins.qgis.org.</p> <p>Most of our plugins are available on our own custom repository https://docs.3liz.org/plugins.xml. You need to follow the tutorial how to add a custom repository.</p>"},{"location":"plugins/#desktop","title":"Desktop","text":"<ul> <li>Drain Sewer Visual Inspection</li> <li>French address</li> <li>French cadastre</li> <li>French openADS</li> <li>G-Obs</li> <li>Lizmap</li> <li>Lizsync</li> <li>Mercicor</li> <li>QuickOSM</li> <li>PgMetadata</li> <li>RAEPA</li> <li>V\u00e9loroutes et voies vertes</li> </ul>"},{"location":"plugins/#server","title":"Server","text":"<ul> <li>AtlasPrint</li> <li>French cadastre</li> <li>Lizmap</li> <li>WfsOutputExtension</li> <li>WMTS Cache</li> </ul> <p>To manage plugins on a server, you can use QGIS-Plugin-Manager.</p> <p>For managing the <code>plugins.xml</code>, you can use QGIS-Plugin-Repo.</p>"},{"location":"talks/","title":"Talks and presentations","text":""},{"location":"talks/#lizmap","title":"Lizmap","text":"<ul> <li>Journ\u00e9es OpenIG 2023 - QGIS QFIELD LIZMAP en Martinique\ud83c\uddeb\ud83c\uddf7   | PDF   | PeerTube</li> <li>QGIS FR 2023 - QGIS QFIELD LIZMAP en Martinique\ud83c\uddeb\ud83c\uddf7   | PDF   | YouTube</li> <li>G\u00e9oDataDays 2022 G\u00e9n\u00e9ral \ud83c\uddeb\ud83c\uddf7</li> <li>G\u00e9oDataDays 2022 Formulaire avanc\u00e9 \ud83c\uddeb\ud83c\uddf7   | PDF</li> <li>FOSS4G 2022 General \ud83c\uddec\ud83c\udde7   | PDF</li> <li>FOSS4G 2022 Advanced form \ud83c\uddec\ud83c\udde7   | PDF</li> <li>FOSS4G 2021 \ud83c\uddec\ud83c\udde7   | PDF   | YouTube</li> <li>G\u00e9oDataDays 2021 \ud83c\uddeb\ud83c\uddf7   | PDF</li> <li>YouTube live workshop/demo online QGIS Indonesia 2020 \ud83c\uddec\ud83c\udde7</li> <li>ApacheCon @Home 2020 \ud83c\uddec\ud83c\udde7   | PDF   | YouTube</li> <li>FOSS4G 2019 \ud83c\uddec\ud83c\udde7   | PDF   | YouTube</li> </ul>"},{"location":"talks/#openstreetmap","title":"OpenStreetMap","text":"<ul> <li>OSM and QGIS, FOSS4G and SOTM 2022 \ud83c\uddec\ud83c\udde7   | PDF</li> <li>OSM et QGIS SOTM-FR 2022 \ud83c\uddeb\ud83c\uddf7   | PDF   | PeerTube</li> <li>OSM in QGIS FOSS4G 2021 \ud83c\uddec\ud83c\udde7   | PDF   | YouTube</li> </ul>"},{"location":"talks/#qgis-desktop","title":"QGIS Desktop","text":"<ul> <li>QGIS-FR 2022 \ud83c\uddeb\ud83c\uddf7 - Les expressions et les formulaires pour cr\u00e9er un outil de saisie professionnel   | PDF</li> </ul>"},{"location":"talks/#qgis-server","title":"QGIS Server","text":"<ul> <li>FOSS4G 2022 Firenze \ud83c\uddec\ud83c\udde7 - QGIS Server into the wild   | PDF</li> <li>FOSS4G 2019 \ud83c\uddec\ud83c\udde7 - WPS with QGIS processing - From desktop to server   | YouTube</li> </ul>"},{"location":"talks/#pgmetadata","title":"PgMetadata","text":"<ul> <li>FOSS4G 2022 Firenze \ud83c\uddec\ud83c\udde7   | PDF</li> <li>FOSS4G 2021 \ud83c\uddec\ud83c\udde7   | PDF   | YouTube</li> <li>QGIS-FR 2020 \ud83c\uddeb\ud83c\uddf7 YouTube</li> </ul>"},{"location":"talks/#french-cadastre","title":"French Cadastre","text":"<ul> <li>Journ\u00e9e technique cadastre/ortho/lidar du CRIGE 2021 \ud83c\uddeb\ud83c\uddf7</li> </ul>"},{"location":"tools/","title":"Tools","text":"<ul> <li>Py-QGIS-Server</li> <li>Py-QGIS-WPS</li> </ul>"},{"location":"tools/#rust","title":"Rust","text":"<ul> <li>Proj4rs</li> <li>demo</li> <li>documentation</li> </ul>"},{"location":"internships/gsoc/","title":"Google Summer Of Code","text":"<p>These are the things we would like a GSOC student to dabble with. Get in touch with info@3liz.com if interested.</p> <p></p>"},{"location":"internships/gsoc/#javascript-refactoring-in-order-to-add-code-coverage","title":"Javascript refactoring in order to add code coverage.","text":"<p>Our current front-end code, mostly written ins Javascript is not easily testable. We would like to refactor  this code and add has many tests as possible. You'll need to understand how Lizmap works in order to complete  the subject. This is mostly about javascript, testing and tools to make it happen.</p>"},{"location":"internships/gsoc/#add-sso-support","title":"Add SSO support","text":"<p>We would like to have the ability to use lizmap with SSO providers like okta, Auth0 ... This project is about working with our backend library Jelix ( see https://jelix.org) and our front-end code in order to bring the code architecture to have the possibility to use SSO when connecting to lizmap. This will require PHP and javascript skills. In order to make the necessary changes in our code base in order to bring one provider and make it easy to add SSO providers.</p>"},{"location":"tutorial/","title":"Tutorials","text":"<p>You can find either French or English some tutorials :</p> <ul> <li>FTP Client for Windows with WinSCP : French, English</li> <li>FTP Client for macOS and Linux : French, English</li> <li>Custom QGIS plugin repository : French, English</li> <li>Custom QGIS Processing script repository : French, English</li> </ul>"},{"location":"tutorial/filezilla-en/","title":"Filezilla","text":""},{"location":"tutorial/filezilla-en/#installation","title":"Installation","text":"<ul> <li> <p>You need to download and install the software FileZilla Client from this link :  https://filezilla-project.org/download.php?type=client</p> </li> <li> <p>When the installation is done, you can register the credentials for the Lizmap FTP server.</p> </li> </ul>"},{"location":"tutorial/filezilla-en/#register-a-lizmap-ftp-server","title":"Register a Lizmap FTP server","text":"<ul> <li>1 By email, you should have received all informations about credentials, URL etc.</li> <li>2 Open FileZilla Client</li> <li>3 Click on the first icon in the toolbar</li> </ul> <ul> <li>4 New site</li> </ul> <ul> <li>5 Fill all required information :<ul> <li>1 : Protocol : <code>FTP</code></li> <li>2 : Host : The FTP server in the email</li> <li>3 : Encryption : <code>Use explicit FTP over TLS if available</code></li> <li>4 : Logon type : <code>Normal</code></li> <li>5 : User : The username in the mail</li> <li>6 : Password : The password in the email</li> </ul> </li> </ul> <p>Note, it's possible to synchronize the navigation between the local directory and the remote directory in the Advanced tab. You need to fill the local and remote paths and also toggle the two checkboxes in the tab.</p> <ul> <li> <p>6 Click ok for this server.</p> </li> <li> <p>7 By using the second button in the toolbar, you can now connect to the FTP server easily.</p> </li> </ul> <p></p> <ul> <li>8 You should have a screen similar to this one : </li> </ul> <p></p> <ul> <li> <p>Description of the user interface :</p> <ul> <li>At the top, some FTP logs about what is happening</li> <li>On the left, your computer</li> <li>On the right, the server</li> <li>At the bottom, data which are currently being transferred.</li> </ul> </li> <li> <p>With a drag&amp;drop, we can copy files from the computer to the server.</p> </li> </ul>"},{"location":"tutorial/filezilla-en/#file-tree","title":"File tree","text":"<p>On the server, always in the <code>qgis</code>, we are going to create directories which will be a Lizmap theme.</p> <p>Then, in your Lizmap panel administration, you need to add the directory.</p> <p>For instance :</p> <pre><code>/\n\u251c\u2500\u2500 qgis\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 forest\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 jungle.qgs\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 jungle.qgs.cfg\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 media\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 logo.png\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 social\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 urban\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 populated_places.qgs\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 populated_places.qgs.cfg\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 urban_project.qgs\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 urban_project.qgs.cfg\n\u2514\u2500\u2500 web\n</code></pre>"},{"location":"tutorial/filezilla-fr/","title":"Filezilla","text":""},{"location":"tutorial/filezilla-fr/#installation","title":"Installation","text":"<ul> <li> <p>Vous devez t\u00e9l\u00e9charger et installer le logiciel FileZilla Client depuis ce lien :  https://filezilla-project.org/download.php?type=client</p> </li> <li> <p>Une fois l'installation effectu\u00e9e, vous pouvez enregistrer la connexion vers le serveur FTP.</p> </li> </ul>"},{"location":"tutorial/filezilla-fr/#enregistrement-de-votre-serveur-lizmap","title":"Enregistrement de votre serveur Lizmap","text":"<ul> <li>1 Par email, vous avez du recevoir les identifiants de connexions vers le serveur FTP.</li> <li>2 Ouvrez FileZilla Client</li> <li>3 Cliquez sur le premier ic\u00f4ne dans la barre d'outils</li> </ul> <ul> <li>4 Nouveau site</li> </ul> <ul> <li>5 Compl\u00e9tez les informations :<ul> <li>1 : Protocol : <code>FTP</code></li> <li>2 : Host : Le serveur FTP re\u00e7u par email</li> <li>3 : Encryption : <code>Use explicit FTP over TLS if available</code></li> <li>4 : Logon type : <code>Normal</code></li> <li>5 : User : Le nom d'utilisateur re\u00e7u par email</li> <li>6 : Password : Le mot de passe re\u00e7u par email</li> </ul> </li> </ul> <p>Note, il est possible de synchroniser la navigation dans l'onglet Avanc\u00e9. Vous devez compl\u00e9ter les chemins locaux et distants ainsi que cocher les deux cases \u00e0 cocher dans cet onglet.</p> <ul> <li> <p>6 Validez l'ajout de cette connexion.</p> </li> <li> <p>7 En utilisant le deuxi\u00e8me bouton dans la barre d'outils, vous pouvez vous connecter au serveur FTP</p> </li> </ul> <p></p> <ul> <li>8 Vous devriez avoir un \u00e9cran semblable \u00e0 celui-ci : </li> </ul> <p></p> <ul> <li> <p>Description de l'interface : </p> <ul> <li>En haut, des commandes FTP, pas besoin de s'inqui\u00e9ter des messages</li> <li>\u00c0 gauche, votre ordinateur</li> <li>\u00c0 droite, le serveur</li> <li>En bas, un r\u00e9capitulatif des donn\u00e9es qui sont en transfert.</li> </ul> </li> <li> <p>Par glisser/d\u00e9poser, nous allons d\u00e9placer des fichiers de votre ordinateur vers le serveur.</p> </li> </ul>"},{"location":"tutorial/filezilla-fr/#arborescence-par-defaut","title":"Arborescence par d\u00e9faut","text":"<p>Sur le serveur, toujours dans le dossier <code>qgis</code>, nous allons cr\u00e9er des r\u00e9pertoires qui seront vos th\u00e9matiques Lizmap.</p> <p>Ensuite, dans votre panneau d'administration Lizmap, vous devez ajouter ce r\u00e9pertoire.</p> <p>Par exemple :</p> <pre><code>/\n\u251c\u2500\u2500 qgis\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 forest\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 jungle.qgs\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 jungle.qgs.cfg\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 media\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 logo.png\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 social\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 urban\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 populated_places.qgs\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 populated_places.qgs.cfg\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 urban_project.qgs\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 urban_project.qgs.cfg\n\u2514\u2500\u2500 web\n</code></pre>"},{"location":"tutorial/qgis-repository-en/","title":"Add a custom QGIS plugin repository","text":""},{"location":"tutorial/qgis-repository-en/#add-the-repository","title":"Add the repository","text":"<p>You need to go in the plugin manager :</p> <ul> <li>Plugins \u27a1 Manage and install plugins</li> </ul> <p>Then, go in the Settings tab.</p> <p></p> <ul> <li>Click Add\u2026</li> </ul> <p></p> <ul> <li> <p>Fill required information with :</p> <ul> <li>Name : Name of the repository. You can choose, for instance <code>Plugin 3Liz XXX</code>.</li> <li>URL : URL which have been provided in the email, for instance    <code>https://github.com/3liz/lizmap-plugin/releases/latest/download/plugins.xml</code></li> <li>Press OK if your plugin does not require any authentication.   If your plugin requires one, read below to continue.   If the URL of the repository starts with <code>https://packages.3liz.org/</code>, it's high probability that your repository requires an authentification.</li> <li>Press Reload repositories to fetch the content of the new repository. This does not install the    plugin, it's only adding a remote server where to find plugins.</li> </ul> </li> <li> <p>Before going to install the plugin, do not forget to :</p> <ul> <li>use the experimental checkbox if the plugin is experimental or you won't be able to see it in the next   step</li> <li>use the checks for updates on startup checkbox to let QGIS informs you automatically at a regular    interval about any plugin updates</li> </ul> </li> <li> <p>Go back to the All tab to see all available plugin and search for the plugin name in the search bar.   You should be able to install it.</p> </li> </ul>"},{"location":"tutorial/qgis-repository-en/#add-the-authentification","title":"Add the authentification","text":"<p>The plugin might be protected by a login/password.</p> <p>In the dialog below, click Edit in the Authentification section.</p> <p></p> <p>By default, you will have No Authentification. Click the + icon to create one.</p> <p></p> <p>Warning</p> <p>If it's the first time that you are using the password manager in QGIS, it will ask you to set the master password. It's a password that you must set with your own password. It will be used to unlock the password database. If you forget it, it's not possible to recover this password.</p> <p></p> <ul> <li>Fill required information with :<ul> <li>Name : Name of the authentification. You can choose, for instance <code>3Liz authentification</code></li> <li>Basic authentification</li> <li>Username with the login provided by email</li> <li>Password with the password provided</li> </ul> </li> <li>Press Save</li> <li>QGIS will fill with a random string the authentification token to access the repository. You can now    follow again the previous documentation about reloading repositories.</li> </ul> <p></p>"},{"location":"tutorial/qgis-repository-fr/","title":"Ajouter un d\u00e9p\u00f4t personnalis\u00e9 d'extensions QGIS","text":""},{"location":"tutorial/qgis-repository-fr/#ajouter-le-depot","title":"Ajouter le d\u00e9p\u00f4t","text":"<p>Il faut se rendre dans le gestionnaire des extensions.</p> <ul> <li>Extensions \u27a1 Installer/G\u00e9rer les extensions</li> </ul> <p>Ensuite, aller dans l'onglet Param\u00e8tres.</p> <p></p> <ul> <li>Cliquer sur Ajouter\u2026</li> </ul> <p></p> <ul> <li>Remplir les informations avec :<ul> <li>Nom : Nom du d\u00e9p\u00f4t. Ce nom est libre \u00e0 vous, par exemple <code>Plugin 3Liz XXX</code></li> <li>URL : URL du d\u00e9p\u00f4t qui a \u00e9t\u00e9 fournie par mail, par exemple <code>https://github.com/3liz/lizmap-plugin/releases/latest/download/plugins.xml</code></li> <li>Cliquer sur OK si votre extension ne n\u00e9cessite pas une authentification.   Si votre extension en requi\u00e8re une, lire plus bas pour continuer.   Si l'URL du d\u00e9p\u00f4t commence par <code>https://packages.3liz.org/</code>, il y a de fortes chances que votre d\u00e9p\u00f4t requi\u00e8re une authentification.</li> </ul> </li> <li> <p>Cliquer sur Recharger le d\u00e9p\u00f4t pour r\u00e9cup\u00e9rer le contenu de ce nouveau d\u00e9p\u00f4t. Ceci n'installe pas      l'extension, cela ajoute seulement l'adresse du serveur pour trouver des nouvelles extensions.</p> </li> <li> <p>Avant d'installer l'extension, ne pas oublier :</p> <ul> <li>d'utiliser la case \u00e0 cocher exp\u00e9rimentales si l'extension est exp\u00e9rimental. Sinon vous n'allez pas    pouvoir voir l'extension \u00e0 l'\u00e9tape suivante</li> <li>d'utiliser la case \u00e0 cocher Chercher des mises \u00e0 jour au d\u00e9marrage pour laisser QGIS vous informer   automatiquement des mises \u00e0 jour r\u00e9guli\u00e8rement.</li> </ul> </li> <li> <p>Retourner sur l'onglet Toutes pour voir toutes les extensions disponibles et taper le nom de l'extension   dans la barre de recherche. Vous devriez la voir et \u00eatre capable de l'installer.</p> </li> </ul>"},{"location":"tutorial/qgis-repository-fr/#ajouter-une-authentification","title":"Ajouter une authentification","text":"<p>L'extension peut \u00eatre prot\u00e9g\u00e9e par un nom d'utilisateur/mot de passe.</p> <p>Dans le dialogue suivant, cliquer \u00c9diter dans la ligne Authentification.</p> <p></p> <p>Par d\u00e9faut, vous allez obtenir Pas d'authentification. Cliquer sur l'ic\u00f4ne + pour en cr\u00e9er une.</p> <p></p> <p>Warning</p> <p>Si c'est la premi\u00e8re fois que vous utilisez le gestionnaire de mot de passe de QGIS, il vous demandera de d\u00e9finir le mot de passe principal. Il s'agit d'un mot de passe que vous devez d\u00e9finir, avec votre propre mot de passe. Il servira \u00e0 d\u00e9verrouiller la base de donn\u00e9es des mots de passes. En cas d'oubli, ce mot de passe n'est pas r\u00e9cup\u00e9rable.</p> <p></p> <ul> <li> <p>Remplir avec les informations requises :</p> <ul> <li>Nom : Nom de l'authentification. Ce nom est libre \u00e0 vous, par exemple <code>3Liz authentification</code></li> <li>Authentification basique</li> <li>Nom d'utilisateur avec le nom de l'utilisateur dans le mail</li> <li>Mot de passe avec le mot de passe fourni</li> </ul> </li> <li> <p>Cliquer Enregistrer</p> </li> </ul> <p>QGIS va remplir avec une cha\u00eene al\u00e9atoire le jeton d'authentification pour acc\u00e9der au d\u00e9p\u00f4t. Vous pouvez  d\u00e9sormais re-suivre la section pr\u00e9c\u00e9dente afin de recharger les d\u00e9p\u00f4ts.</p> <p></p>"},{"location":"tutorial/resources-sharing-en/","title":"QGIS Resources sharing","text":""},{"location":"tutorial/resources-sharing-en/#plugin-installation","title":"Plugin installation","text":"<ul> <li>You need to go in the QGIS plugin manager, go to the plugin QGIS Resource Sharing page.</li> <li>Click \"Install\"</li> <li>Close the QGIS plugin manager dialog</li> </ul> <p>The full documentation about the plugin is available online.</p>"},{"location":"tutorial/resources-sharing-en/#add-the-3liz-repository","title":"Add the 3Liz repository","text":"<ul> <li>Plugin menu \u27a1 Resource sharing \u27a1 Resource sharing</li> <li>Click on the yellow button about settings.</li> <li>Then \"Add a repository\"</li> <li>Fill the desired name, such as <code>3Liz</code> for instance</li> <li>URL <code>https://github.com/3liz/QGIS-Resources.git</code></li> <li>No need for authentification, you can click Ok</li> <li>Go back in the tab All collections in the top right menu.</li> <li>Search for <code>3liz</code> and click install.</li> <li>Close this dialog</li> </ul> <p>Finally, in your menu Processing \u27a1 Toolbox of QGIS, you should see some new Processing scripts, for instance Scripts \u27a1 Lizmap \u27a1 Set color field value with feature symbol main colour.</p>"},{"location":"tutorial/resources-sharing-fr/","title":"QGIS Resources sharing","text":""},{"location":"tutorial/resources-sharing-fr/#installation-de-lextension","title":"Installation de l'extension","text":"<ul> <li>Il faut aller dans le gestionnaire des extensions de QGIS, chercher l'extension QGIS Resource Sharing.</li> <li>Cliquer sur Installer</li> <li>Fermer la fen\u00eatre</li> </ul> <p>La documentation compl\u00e8te de cette extension est disponible en ligne.</p>"},{"location":"tutorial/resources-sharing-fr/#ajout-de-depot-3liz","title":"Ajout de d\u00e9p\u00f4t 3Liz","text":"<ul> <li>Menu Extension \u27a1 Resource sharing \u27a1 Resource sharing</li> <li>Cliquer sur la roue crant\u00e9e jaune pour acc\u00e9der aux param\u00e8tres</li> <li>Puis sur \"Ajouter un r\u00e9pertoire\"</li> <li>Renseignez ensuite le nom souhait\u00e9, comme par exemple <code>3Liz</code></li> <li>URL <code>https://github.com/3liz/QGIS-Resources.git</code></li> <li>Pas besoin d'authentification, vous pouvez cliquer sur Ok</li> <li>Retournez dans l'onglet Toutes les collections en haut du menu de droite.</li> <li>Chercher <code>3liz</code> et cliquez sur installer.</li> <li>Fermer la fen\u00eatre</li> </ul> <p>Dans votre menu Traitements \u27a1 Bo\u00eete \u00e0 outils de QGIS, vous devriez avoir des scripts Processing d\u00e9sormais, par exemple Scripts \u27a1 Lizmap \u27a1 Set color field value with feature symbol main colour.</p>"},{"location":"tutorial/winscp-en/","title":"WinSCP","text":""},{"location":"tutorial/winscp-en/#installation","title":"Installation","text":"<ul> <li> <p>You need to download and install WinSCP software from this link:  https://winscp.net/eng/download.php</p> </li> <li> <p>After installation is complete, you can register the connection to the FTP server.</p> </li> </ul>"},{"location":"tutorial/winscp-en/#register-your-lizmap-server","title":"Register your Lizmap server","text":"<ul> <li>1 By email, you should have received the login credentials to the FTP server.</li> <li>2 Open WinSCP.</li> <li>3 The panel for adding a new connection opens automatically when the software is opened for the first time.   Otherwise, click on the button <code>New session</code> located at the top left of the window.</li> </ul> <ul> <li>4 New site</li> </ul> <ul> <li>5 Complete the information:<ul> <li>1: File protocol: <code>FTP</code></li> <li>2: Encryption: <code>Explicit TSL / SSL encryption</code></li> <li>3: Hostname: The FTP server received by email</li> <li>4: Port Number: <code>21</code></li> <li>5: Username: The username received by email</li> <li>6: Password: The password received by email</li> </ul> </li> </ul> <ul> <li>6 Click on save to save the new site:<ul> <li>1: Save the session under: Site name, ex: Lizmap</li> <li>2: Save password: You can check the box if you wish</li> <li>3: Create a shortcut on the desktop: Allows direct access to the site via a shortcut on your office</li> </ul> </li> </ul> <ul> <li>7 To connect to your new site go to the <code>Session</code> tab then<code>Sites</code> and click on your site.</li> </ul> <ul> <li>8 You should have a screen similar to this: </li> </ul> <ul> <li> <p>Description of the user interface : </p> <ul> <li>On the left, your computer</li> <li>On the right, the server</li> </ul> </li> <li> <p>With a drag&amp;drop, we can copy files from the computer to the server.</p> </li> </ul>"},{"location":"tutorial/winscp-en/#file-tree","title":"File tree","text":"<p>On the server, always in the <code>qgis</code>, we are going to create directories which will be a Lizmap theme.</p> <p>Then, in your Lizmap panel administration, you need to add the directory.</p> <p>For instance :</p> <pre><code>/\n\u251c\u2500\u2500 qgis\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 forest\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 jungle.qgs\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 jungle.qgs.cfg\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 media\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 logo.png\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 social\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 urban\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 populated_places.qgs\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 populated_places.qgs.cfg\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 urban_project.qgs\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 urban_project.qgs.cfg\n\u2514\u2500\u2500 web\n</code></pre>"},{"location":"tutorial/winscp-fr/","title":"WinSCP","text":""},{"location":"tutorial/winscp-fr/#installation","title":"Installation","text":"<ul> <li> <p>Vous devez t\u00e9l\u00e9charger et installer le logiciel WinSCP depuis ce lien:  https://winscp.net/eng/download.php</p> </li> <li> <p>Une fois l'installation effectu\u00e9e, vous pouvez enregistrer la connexion vers le serveur FTP.</p> </li> </ul>"},{"location":"tutorial/winscp-fr/#enregistrement-de-votre-serveur-lizmap","title":"Enregistrement de votre serveur Lizmap","text":"<ul> <li>1 Par email, vous avez d\u00fb recevoir les identifiants de connexions vers le serveur FTP.</li> <li>2 Ouvrez WinSCP.</li> <li>3 Le panneau pour ajouter une nouvelle connexion s'ouvre automatiquement \u00e0 la premi\u00e8re ouverture du logiciel.   Sinon cliquez sur le bouton <code>Nouvelle session</code> situ\u00e9 en haut \u00e0 gauche de la fen\u00eatre.</li> </ul> <ul> <li>4 Nouveau site</li> </ul> <ul> <li>5 Compl\u00e9tez les informations :<ul> <li>1 : Protocole de fichier: <code>FTP</code></li> <li>2 : Chiffrement: <code>Chiffrement TSL/SSL explicite</code></li> <li>3 : Nom d'h\u00f4te : Le serveur FTP re\u00e7u par email</li> <li>4 : Num\u00e9ro de Port: <code>21</code></li> <li>5 : Nom d'utilisateur : Le nom d'utilisateur re\u00e7u par email</li> <li>6 : Mot de passe : Le mot de passe re\u00e7u par email</li> </ul> </li> </ul> <ul> <li>6 Cliquer sur sauver pour enregistrer le nouveau site :<ul> <li>1 : Enregistrer la session sous : Nom du site, ex : Lizmap</li> <li>2 : Enregistrer le mot de passe: Vous pouvez c\u00f4cher la case si vous le souhaitez</li> <li>3 : Cr\u00e9er un raccourci sur le bureau : Permet d'avoir un acc\u00e8s direct au site via un raccourci sur votre bureau</li> </ul> </li> </ul> <ul> <li>7 Pour vous connecter \u00e0 votre nouveau site allez dans l'onglet <code>Session</code> puis <code>Sites</code> et cliquez sur votre site.</li> </ul> <ul> <li>8 Vous devriez avoir un \u00e9cran semblable \u00e0 celui-ci: </li> </ul> <ul> <li> <p>Description de l'interface</p> <ul> <li>Sur la gauche, votre ordinateur</li> <li>Sur la droite, le serveur</li> </ul> </li> <li> <p>Par glisser/d\u00e9poser, nous allons d\u00e9placer des fichiers de votre ordinateur vers le serveur.</p> </li> </ul>"},{"location":"tutorial/winscp-fr/#arborescence-par-defaut","title":"Arborescence par d\u00e9faut","text":"<p>Sur le serveur, toujours dans le dossier <code>qgis</code>, nous allons cr\u00e9er des r\u00e9pertoires qui seront vos th\u00e9matiques Lizmap.</p> <p>Ensuite, dans votre panneau d'administration Lizmap, vous devez ajouter ce r\u00e9pertoire.</p> <p>Par exemple :</p> <pre><code>/\n\u251c\u2500\u2500 qgis\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 forest\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 jungle.qgs\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 jungle.qgs.cfg\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 media\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 logo.png\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 social\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 urban\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 populated_places.qgs\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 populated_places.qgs.cfg\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 urban_project.qgs\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 urban_project.qgs.cfg\n\u2514\u2500\u2500 web\n</code></pre>"},{"location":"workshop/lizmap-short-english/","title":"Workshop Lizmap","text":""},{"location":"workshop/lizmap-short-english/#pre-requirements","title":"Pre-requirements","text":"<p>This workshop is designed for Lizmap users, half day.</p> <ul> <li>FTP Client (WinSCP for Windows, Filezilla for MacOS/Linux)<ul> <li><code>qgis/topic_workshop</code> : for the workshop</li> <li><code>qgis/topic_workshop/media/metadata.pdf</code> : a PDF file</li> </ul> </li> <li>QGIS 3.22</li> <li>Lizmap plugin on QGIS Desktop</li> <li>QGIS project attached in the email<ul> <li>The QGIS project contains layers from the PostgreSQL database</li> </ul> </li> </ul>"},{"location":"workshop/lizmap-short-english/#foss4g","title":"FOSS4G","text":"<p>Presentations talking about QGIS Server and Lizmap during this FOSS4G from 3Liz :</p> <ul> <li>Room Onice, 2022-08-25 from 11h30 to 12h00<ul> <li>QGIS Server into the wild</li> </ul> </li> <li>Room 4, 2022-08-25 from 15h20 to 15h30, two lightning talks<ul> <li>Advanced QGIS forms into the web with Lizmap</li> <li>Dataviz in QGIS and on the web co-authored with Faunalia</li> </ul> </li> <li>Room Onice, 2022-08-26 from 9h00 to 9h30<ul> <li>State of Lizmap - Past / Present / Futur</li> </ul> </li> </ul>"},{"location":"workshop/lizmap-short-english/#links","title":"Links","text":"<ul> <li>Demo https://demo.lizmap.com</li> <li>Lizmap hosting out-of-the-box https://www.lizmap.com</li> <li>PDF/HTML presentations and videos https://docs.3liz.org/talks/#lizmap</li> <li>Mailing-list Osgeo Lizmap \ud83c\uddec\ud83c\udde7 (and a little bit of \ud83c\uddeb\ud83c\uddf7)<ul> <li>https://lists.osgeo.org/mailman/listinfo/lizmap</li> </ul> </li> <li>Twitter accounts : <ul> <li>https://twitter.com/LizmapForQgis dedicated to Lizmap</li> <li>https://twitter.com/3LIZ_news about 3Liz</li> <li>https://twitter.com/3lizRelease everytime we make a new version on GitHub in one of our project</li> </ul> </li> <li>Source code<ul> <li>Lizmap Web Client https://github.com/3liz/lizmap-web-client/</li> <li>Lizmap QGIS side (desktop and server) : https://github.com/3liz/lizmap-plugin/</li> <li>3Liz https://github.com/3liz/ for QGIS Server plugins, Lizmap modules</li> </ul> </li> <li>National user group<ul> <li>German mailing list \ud83c\udde9\ud83c\uddea</li> <li>Japan Facebook group \ud83c\uddef\ud83c\uddf5</li> </ul> </li> </ul>"},{"location":"workshop/lizmap-short-english/#documentation","title":"Documentation","text":"<ul> <li>https://docs.lizmap.com/</li> <li>Check the Lizmap architecture and manuals</li> </ul>"},{"location":"workshop/lizmap-short-english/#first-quick-map","title":"First quick map","text":"<ul> <li>Open the project</li> <li>Set the extent on the map canvas to have all islands visible</li> <li>In the Project Properties :<ul> <li>Project menu \u27a1 Properties</li> <li>Relations tab, add all relations automatically with Discover Relations and select them all with ctrl</li> <li>QGIS Server tab,<ul> <li>Enable Service capabilities<ul> <li>set a title such as <code>Lizmap training NAME</code> and an abstract about the purpose of the project. You can fill the author, organization, phone, email as well if you want.</li> <li>You are free to use the text you want for these fields.</li> <li>You can set keywords if needed. You will be to search your project with keywords in the landing page.</li> </ul> </li> <li>WMS capabilities<ul> <li>use the current canvas extent for the advertised extent</li> </ul> </li> <li>WFS capabilities<ul> <li>Use the checkbox published for all layers</li> </ul> </li> </ul> </li> <li>Press Ok </li> </ul> </li> <li>Open the Lizmap plugin</li> <li>Check the content of the Information panel</li> <li>Only one time, add a server with your instance home page URL<ul> <li>Example <code>https://workshop.lizmap.com/foss4g/</code></li> <li>We don't need user and password.</li> <li>Adding a login and password is not required and QGIS will ask you to set up a master password if you haven't done it before.</li> </ul> </li> <li>Close the Lizmap plugin (it's creating the Lizmap file when closing the window).</li> <li>Transfert the project (<code>.qgs</code> et <code>.cfg</code>) in the folder <code>qgis/topic_workshop</code> on the FTP</li> <li>Visit your Lizmap instance in the web browser</li> </ul> <p>Tip</p> <p>Bonus if you have a small PNG picture called <code>name_of_project.qgs.png</code> to replace the default project thumbnail. It works as well with jpg, jpeg files.</p>"},{"location":"workshop/lizmap-short-english/#quick-overview-of-the-lizmap-web-interface","title":"Quick overview of the Lizmap web interface","text":"<ul> <li>The map</li> <li>Lizmap folders</li> <li>Administration panel</li> </ul>"},{"location":"workshop/lizmap-short-english/#legend","title":"Legend","text":"<ul> <li>Add some groups in the legend<ul> <li><code>Editing</code> with <code>persons</code> and <code>observations</code></li> <li><code>Data</code> with <code>municipalities</code></li> <li><code>hidden</code>, with small <code>h</code>, with <code>species</code> and you can add OSM base layer (from the QGIS Browser, XYZ Tiles)</li> </ul> </li> <li>Reorder layers to put them inside these groups according to the screenshot below</li> <li>Rename layers with a more human-readable<ul> <li>Except for the OSM layer, in the group <code>hidden</code>, the name must be <code>osm-mapnik</code></li> </ul> </li> </ul> <p>Success</p> <p>Lizmap is using QGIS Server in the background, the legend is, therefore, the same as in QGIS Desktop.</p> <p>Some settings in the QGIS project or in the Lizmap plugin can have effects in the web interface.</p> <p>Tip</p> <p>Starting from now, often send the QGS file and the CFG file on the server to check the result online.</p> <ul> <li>Make a quick symbology on a point layer :<ul> <li>on <code>persons</code>, change the default symbol using a single symbol.</li> <li>On <code>observations</code>, we can try Categorized using the field <code>fk_id_specie</code>. You can use the QML already made (Vector layer properties \u27a1 Styles at the bottom \u27a1 Load styles).</li> </ul> </li> <li>Add labels on the municipalities layer and add a scale based visibility for these labels (1:300 000)<ul> <li><code>name</code> field for the source</li> <li>Rendering tab, scale based visibility minimum set to <code>1:300 000</code></li> </ul> </li> <li>Go in the Lizmap plugin, Layers tab :<ul> <li>Enable the municipalities layer by default  </li> <li>Add some links on two layers: <ul> <li>PDF for the persons layer : <code>media/metadata.pdf</code>, a PDF link, stored in the folder <code>media</code> (you can see it in the FTP client)</li> <li>HTML for the municipalities : <code>https://en.wikipedia.org/wiki/French_Polynesia</code></li> </ul> </li> <li>Go in Baselayers tag and add the OpenStreetMap Mapnik background.</li> </ul> </li> </ul> <p></p>"},{"location":"workshop/lizmap-short-english/#attribute-table","title":"Attribute table","text":"<ul> <li>From the plugin, enable the attribute table for the municipalities layer.<ul> <li>In the Attribute table tab, add a new layer</li> </ul> </li> </ul> <p>Tip</p> <p>We can improve our attribute table by adding some alias on the fields :</p> <ul> <li>Properties on the vector layer \u27a1 Form attributes \u27a1 Alias for all fields</li> </ul> <p>Tip</p> <p>Two new tools appeared in Lizmap Web Client : Attribute table as expected, but also Selection. Let's have a look.</p>"},{"location":"workshop/lizmap-short-english/#lets-identify-the-feature-by-clicking","title":"Let's identify the feature by clicking","text":"<ul> <li>In the Lizmap plugin, layers tab, enable some popups on the layer municipalities with <code>automatic</code> mode and   check the results by clicking on a municipality.</li> </ul> <p>Tip</p> <p>The automatic popup will use alias if available on the layer.</p> <ul> <li>Let's get back in the Lizmap plugin Let's switch to a popup with QGIS HTML Maptip mode on the same layer</li> <li>Click on the Generate an HTML table</li> <li>In the <code>communes</code> vector layer properties, rendering tab, then HTML Maptip, check the generated HTML.</li> <li>Tip : QGIS \u27a1 View \u27a1 Show Map Tips to display maptip straight in QGIS Desktop. You need to select the maptip tool in the toolbar as well.</li> </ul> <p>These QGIS popups are powerful with the use of QGIS expressions. \ud83d\ude80</p>"},{"location":"workshop/lizmap-short-english/#with-some-expressions-inside","title":"With some expressions inside","text":"<p>You can use expressions :</p> <ul> <li>to display with capital letters</li> <li>to display in red if the population is less than 20 000 inhabitants</li> </ul> Display solutions <ul> <li>The first one about capital letters, replace <pre><code>[% \"name\" %]\n</code></pre> by <pre><code>[% upper(\"name\") %]\n</code></pre></li> <li>The second one about the population in red, replace <pre><code>    [% \"population\" %]\n</code></pre> <pre><code>    &lt;font color=\"[% if( \"population\" &gt; 20000, 'black', 'red') %]\"&gt;[% \"population\" %]&lt;/font&gt;\n</code></pre></li> </ul>"},{"location":"workshop/lizmap-short-english/#editing-capabilities-on-a-layer","title":"Editing capabilities on a layer","text":"<p>We want now to enable editing capabilities on a layer in the Lizmap interface, to let some users add some observations.</p> <ul> <li>In QGIS, try to add a point and check how the default form is displayed on the layer observations. You need to toggle editing mode first with the yellow pen.</li> <li>Improve the form in QGIS :<ul> <li>Layer Properties \u27a1 Attributes Form -&gt; Drag&amp;Drop layout form</li> <li>Remove the field <code>id</code></li> <li>Make two groups : <code>Required</code> and <code>Optional</code></li> </ul> </li> </ul> <p></p> <ul> <li>Field configuration :<ul> <li><code>fk_id_person</code> :<ul> <li>Alias <code>Watcher</code></li> <li>Relation reference with <code>name</code></li> </ul> </li> <li><code>fk_id_specie</code> :<ul> <li>Alias <code>Species</code></li> <li>Value relation layer <code>species</code>, key column <code>id</code> and value <code>es_nom_commun</code></li> </ul> </li> <li><code>date</code> :<ul> <li>Alias <code>Date</code></li> <li>Date/Time by default</li> </ul> </li> <li><code>photo</code> : <ul> <li>Alias <code>Photo</code></li> <li>Attachment</li> </ul> </li> <li><code>gender</code> : <ul> <li>Alias <code>Gender</code></li> <li>Value map and add some values in the table <code>Male</code>, <code>Female</code></li> </ul> </li> </ul> </li> </ul> <p></p> <ul> <li>As soon as you have your form ready in QGIS (more or less \ud83d\ude42), add the layer in the editing   panel in Lizmap</li> </ul> <p>Tip</p> <p>We can use QGIS Expressions in the form (visibility, conditions, default value etc.). Read the documentation.</p>"},{"location":"workshop/lizmap-short-english/#pdf-print","title":"PDF Print","text":""},{"location":"workshop/lizmap-short-english/#extent-chosen-by-the-user","title":"Extent chosen by the user","text":"<ul> <li>In the given QGIS project, there is already a layout <code>Landscape A4</code>.</li> <li>Enable print in your Lizmap plugin, map options tab.</li> <li>Customize the title from Lizmap web interface in the PDF :<ul> <li>Click on the title <code>Example workshop</code></li> <li>In the properties, look for Object identifier and set <code>title</code></li> </ul> </li> </ul> <p>Success</p> <p>In this case, the user is choosing the area of interest</p>"},{"location":"workshop/lizmap-short-english/#from-a-popup-extent-defined-by-the-feature","title":"From a popup, extent defined by the feature","text":"<ul> <li>In the QGIS layout manager, duplicate the existing layout and let's transform it to an atlas<ul> <li>Project menu, Layout  manager, Duplicate, name <code>PDF sheet</code></li> <li>Edit this new layout</li> <li>Enable atlas on the municipalities layer</li> <li>Change the title to display the name of the municipality</li> <li>Enable the map to \"follow\" the current feature</li> </ul> </li> <li>Check in the result in Lizmap</li> </ul> <p>Success</p> <p>While in this situation, the PDF is linked to a feature.</p>"},{"location":"workshop/lizmap-short-english/#dataviz","title":"Dataviz","text":""},{"location":"workshop/lizmap-short-english/#bar-chart","title":"Bar chart","text":"<ul> <li>Add bar chart in the Lizmap plugin about population in municipalities (and not a histogram).<ul> <li>Layer : Municipalities</li> <li>X Field : Name</li> <li>No aggregation</li> <li>Trace : <ul> <li>field population</li> <li>color blue</li> </ul> </li> </ul> </li> </ul>"},{"location":"workshop/lizmap-short-english/#pie-chart","title":"Pie chart","text":"<ul> <li>On \"persons\" layer, add a pie chart about each \"watcher\" :<ul> <li>Add a virtual field in \"persons\" called <code>count</code>, integer :</li> </ul> </li> </ul> <pre><code>relation_aggregate(\n    relation:='observation_fk_id_person_fkey',\n    aggregate:='count',\n    expression:=\"id\"\n)\n</code></pre> <ul> <li>Add pie chart in the Lizmap plugin<ul> <li>Title</li> <li>Description</li> <li>Layer : Persons</li> <li>X Field : Name</li> <li>Aggregation sum</li> <li>Trace : count</li> </ul> </li> </ul>"},{"location":"workshop/lizmap-short-english/#advanced-filtered-plot","title":"Advanced filtered plot","text":"<p>For now, it's only charts at the layer level. It's possible to make charts for a given feature, for instance for a given \"watcher\", to know his own observations. You can watch the animated GIF at the bottom to understand the expected output, in the \"Final result\".</p> <p></p> <p>Tip</p> <p>Watch the video tutorial about the filtered plot.</p> <ul> <li>Add a virtual field <code>label_species</code> (text) in the <code>observations</code> layer to have the name :</li> </ul> <pre><code>attribute(get_feature('species_aa247cf3_58c8_4852_8ada_1d707a593cfe', 'id', \"fk_id_specie\"),'es_nom_commun')\n</code></pre> <ul> <li> <p>Add a pie chart on the <code>persons</code> layer :</p> <ul> <li>Pie</li> <li>Title : Species</li> <li>Layer : Observations</li> <li>X Field : <code>label_species</code></li> <li>Aggregation <code>Count</code></li> <li>Traces : <code>id</code></li> <li>Checkbox Display filtered plot in popups of parent layer</li> <li>Checkbox Only show in child popup</li> </ul> </li> </ul> <p></p> Final result <p></p> <p>Thanks \ud83d\ude0e</p>"},{"location":"workshop/lizmap/","title":"\u00c9dition","text":"<p>Nous allons faire un petit mod\u00e8le de donn\u00e9es pour recenser des logements.</p> <p>Nous pourrons voir \u00e0 travers cet exemple diff\u00e9rent aspect de Lizmap.</p> classDiagram class logement{     id serial PK     adresse text not null     code_insee text     type text not null     nb_pieces int     besoin_renov boolean     pmr boolean not null     fiche_web text     photo text,     date_construction date,     date_revision_fiche date default now()     geom Point EPSG:2154 }  class agents{     id serial PK     nom text not null }  class etat_des_lieux{     id serial PK     id_logement int not null     id_agent int not null     date date not null     photo text }  logement -- etat_des_lieux agents -- etat_des_lieux"},{"location":"workshop/lizmap/#sql","title":"SQL","text":"<p>Commen\u00e7ons par cr\u00e9er les tables.</p> <pre><code>DROP SCHEMA IF EXISTS z_formation CASCADE;\nCREATE SCHEMA z_formation;\n</code></pre> Afficher les solutions <pre><code>CREATE TABLE z_formation.logement (\n    id SERIAL PRIMARY KEY,\n    adresse TEXT NOT NULL,\n    code_insee text,\n    type TEXT NOT NULL,\n    nb_pieces INTEGER,\n    besoin_renov boolean,\n    pmr boolean NOT NULL,\n    fiche_web TEXT,\n    photo TEXT,\n    date_construction DATE,\n    date_revision_fiche DATE,\n    geom Geometry(Point, 2154)\n);\nCREATE TABLE z_formation.agents\n(\n    id SERIAL PRIMARY KEY,\n    nom TEXT NOT NULL\n);\n\nCREATE TABLE z_formation.etat_des_lieux\n(\n    id SERIAL PRIMARY KEY,\n    id_logement INTEGER NOT NULL,\n    id_agent INTEGER NOT NULL,\n    date TIMESTAMP NOT NULL,\n    photo TEXT,\n    FOREIGN KEY (id_logement) REFERENCES z_formation.logement(id),\n    FOREIGN KEY (id_agent) REFERENCES z_formation.agents(id)\n);\n</code></pre> <p>N'oublions pas l'index spatial</p> <pre><code>CREATE INDEX ON z_formation.logement USING GIST (geom);\n</code></pre> <p>Info</p> <p>Vous devez avoir une couche des communes avec les codes INSEE dans votre projet \u00e9galement.</p>"},{"location":"workshop/lizmap/#proprietes-du-projet","title":"Propri\u00e9t\u00e9s du projet","text":"<ul> <li>Charger les couches dans le projet QGIS.</li> <li>Propri\u00e9t\u00e9s du projet, onglet Relations, ajouter toutes les relations automatiquement avec le bouton d\u00e9couvrir.</li> <li>Vous devriez avoir 2 relations dans le tableau.</li> </ul>"},{"location":"workshop/lizmap/#formulaire-logement","title":"Formulaire logement","text":"<p>Tip</p> <p>Regarder uniquement le formulaire dans QGIS bureautique dans un premier temps, pendant les diff\u00e9rentes \u00e9tapes.</p> <ul> <li>Dans les propri\u00e9t\u00e9s de la couche <code>logement</code> :</li> <li>Ajouter des alias sur les champs</li> <li>Faire un formulaire par glisser/d\u00e9poser</li> <li>Ajouter des onglets et des groupes </li> </ul> <p>Tip</p> <p>Nous n'avons pas besoin du champ <code>id</code> pour nos utilisateurs lors d'une \u00e9dition. C'est une information interne.</p>"},{"location":"workshop/lizmap/#parametrage-des-outils-pour-les-champs","title":"Param\u00e9trage des \"outils\" pour les champs","text":"<p>Pour l'ensemble des champs, nous allons configurer les Type d'outil ainsi que les contraintes si n\u00e9cessaire.</p> <p>Nous allons utiliser la documentation Lizmap sur les formulaires avanc\u00e9s.</p> <ul> <li><code>adresse</code> :<ul> <li>\u00c9dition de texte</li> <li>Ajouter une expression pour la contrainte et une erreur qui sera affich\u00e9e si l'expression n'est pas valide.</li> </ul> </li> </ul> <p>Tip</p> <p>On remarque que QGIS d\u00e9tecte les contraintes des champs qui sont en base de donn\u00e9es. Mais on peut personnaliser les messages d'erreurs.</p> <p>Tip</p> <p>Concernant l'expression de contrainte, QGIS va l'ex\u00e9cuter et va v\u00e9rifier si l'expression renvoi une valeur bool\u00e9enne si la saisie est valide ou non.</p> <ul> <li><code>code_insee</code> :<ul> <li>Valeur relationnelle</li> <li>Couche commune</li> <li>Cl\u00e9 INSEE_COM</li> <li>Valeurs NOM</li> <li>Expression de filtre <code>intersects($geometry, @current_geometry)</code></li> <li>Ajouter une contrainte et une erreur</li> <li>Renforcer la contrainte par expression</li> </ul> </li> <li><code>type</code> :<ul> <li>Liste de valeurs</li> <li><code>studio</code> \u27a1 <code>Studio</code></li> <li><code>appartement</code> \u27a1 <code>Appartement</code></li> <li><code>maison</code> \u27a1 <code>Maison</code></li> <li><code>villa</code> \u27a1 <code>Villa</code></li> <li>...</li> </ul> </li> <li><code>nb_pieces</code> :<ul> <li>Plage de valeur</li> </ul> </li> <li><code>pmr</code> :<ul> <li>Case \u00e0 cocher, uniquement oui ou non, car d\u00e9finition non null lors de la cr\u00e9ation de la table</li> </ul> </li> <li><code>photo</code> :<ul> <li>Pi\u00e8ce jointe<ul> <li>Chemin par d\u00e9faut, ou alors un dossier comme <code>../media/specific_media_folder</code></li> <li>Filtre <code>Images (*.png *.jpg *.jpeg)</code></li> </ul> </li> </ul> </li> <li><code>besoin_renov</code> :<ul> <li>Liste de valeurs, pour transformer la case \u00e0 cocher en menu d\u00e9roulant pour inclure le null possible.<ul> <li>Valeur NULL \u27a1 <code>Indertermin\u00e9</code></li> <li><code>true</code> \u27a1 <code>Oui</code></li> <li><code>false</code> \u27a1 <code>Non</code></li> </ul> </li> </ul> </li> <li><code>fiche_web</code> :<ul> <li>Texte</li> <li>Renfor\u00e7ons la contrainte avec une expression. Une regex est plus appropri\u00e9e, mais utilisons une expression      simple pour v\u00e9rifier que la cha\u00eene commence par <code>http</code></li> <li>Ajouter une description pour la contrainte</li> </ul> </li> <li><code>date_construction</code><ul> <li>Date<ul> <li>format <code>dd/MM/yyyy</code></li> <li>La date de construction n'\u00e9tant pas obligatoire, il faut en tenir compte dans l'expression de v\u00e9rification</li> <li><code>\"date_construction\" is null or \"date_construction\" &lt;=  now()</code></li> </ul> </li> </ul> </li> <li><code>date_revision_fiche</code><ul> <li>Date<ul> <li>Format date</li> </ul> </li> </ul> </li> </ul>"},{"location":"workshop/lizmap/#utilisation-des-popups-avec-la-relation","title":"Utilisation des popups avec la relation","text":"<p>Nous pouvons activer :</p> <ul> <li>les popups \"Automatique\" pour la couche des \u00e9tats des lieux.</li> <li>l'affichage des popups enfants dans la couche des logements</li> </ul>"},{"location":"workshop/lizmap/#edition-des-tables-filles","title":"\u00c9dition des tables filles","text":"<p>Pour permettre l'ajout des \u00e9tats des lieux, il faut :</p> <ul> <li>Avoir les relations</li> <li>Avoir l'\u00e9dition sur les 2 couches</li> <li>Avoir l'outil de table attributaire sur les couches filles</li> </ul>"},{"location":"workshop/lizmap/#quelques-solutions","title":"Quelques solutions","text":"V\u00e9rifier qu'un champ n'est ni NULL ni une cha\u00eene vide <p><code>\"adresse\" IS NOT NULL AND \"adresse\" &lt;&gt; ''</code></p> V\u00e9rifier que la cha\u00eene commence par <code>http</code> <p><code>left(\"fiche_web\", 4) = 'http'</code></p>"},{"location":"workshop/lizmap/#continuer-plus-loin","title":"Continuer plus loin","text":"<p>On peut continuer plus loin avec l'utilisation de la dataviz, par exemple pour afficher dans les informations d'une commune la r\u00e9partition des types de logements.</p>"},{"location":"workshop/workshop/","title":"Workshops","text":""},{"location":"workshop/workshop/#lizmap","title":"Lizmap","text":"<ul> <li>Atelier \ud83c\uddeb\ud83c\uddf7</li> <li>Workshop \ud83c\uddec\ud83c\udde7</li> </ul>"},{"location":"workshop/fr/lizmap-short-01-intro/","title":"Atelier Lizmap","text":""},{"location":"workshop/fr/lizmap-short-01-intro/#pre-requis","title":"Pr\u00e9-requis","text":"<p>Cet atelier concerne les utilisateurs de l'atelier Lizmap sur 1/2 journ\u00e9e.</p> <ul> <li>QGIS 3.34</li> <li>Lizmap Web Client 3.7.X</li> <li>Extension Lizmap dans QGIS Bureautique avec la derni\u00e8re version disponible</li> <li>Projet QGIS \u00e0 t\u00e9l\u00e9charger<ul> <li>Le projet QGIS contient d\u00e9j\u00e0 les couches PostgreSQL</li> <li>https://tinyurl.com/formation-lizmap</li> </ul> </li> <li>Client FTP (WinSCP sous Windows, Filezilla sous macOS/Linux)<ul> <li><code>qgis/theme_formation</code> : le dossier pour l'atelier</li> <li><code>qgis/theme_formation/media/metadata.pdf</code> : un fichier PDF</li> </ul> </li> </ul>"},{"location":"workshop/fr/lizmap-short-01-intro/#liens","title":"Liens","text":"<ul> <li>D\u00e9mo https://demo.lizmap.com</li> <li>H\u00e9bergement Lizmap cl\u00e9 en main https://www.lizmap.com</li> <li>Pr\u00e9sentations PDF/HTML des derni\u00e8res conf\u00e9rences avec les vid\u00e9os https://docs.3liz.org/talks/#lizmap</li> <li>Mailing-list Osgeo Lizmap \ud83c\uddec\ud83c\udde7 (et un peu de \ud83c\uddeb\ud83c\uddf7)<ul> <li>https://lists.osgeo.org/mailman/listinfo/lizmap</li> </ul> </li> <li>Comptes Twitter :<ul> <li>@LizmapForQgis pour Lizmap uniquement</li> <li>@3LIZ_news \u00e0 propos de nous</li> <li>@3lizRelease \u00e0 chaque fois que l'on fait une nouvelle version sur un projet GitHub dans un de nos projets</li> </ul> </li> <li>Code source<ul> <li>Lizmap Web Client https://github.com/3liz/lizmap-web-client/</li> <li>Lizmap c\u00f4te QGIS bureautique : https://github.com/3liz/lizmap-plugin/</li> <li>3Liz https://github.com/3liz/ pour extensions QGIS Serveur, modules Lizmap</li> </ul> </li> <li>Groupes Utilisateurs nationaux<ul> <li>Mailing list allemande \ud83c\udde9\ud83c\uddea</li> <li>Groupe Facebook japonais \ud83c\uddef\ud83c\uddf5</li> <li>... ?</li> </ul> </li> </ul>"},{"location":"workshop/fr/lizmap-short-01-intro/#documentation","title":"Documentation","text":"<ul> <li>https://docs.lizmap.com/</li> <li>Voir l'architecture de Lizmap et les manuels</li> </ul> <p>Commen\u00e7ons enfin le TP en publiant notre premi\u00e8re carte \ud83d\udc49</p>"},{"location":"workshop/fr/lizmap-short-02-first-map/","title":"Premi\u00e8re publication rapide","text":"<p>Nous allons publier le projet QGIS qui se trouve dans l'email afin de faire notre premi\u00e8re carte visualisable sur internet.</p>"},{"location":"workshop/fr/lizmap-short-02-first-map/#extension-lizmap","title":"Extension Lizmap","text":"<ul> <li>Installer l'extension Lizmap</li> <li>Cliquer sur Ajouter votre premier serveur et suivre les \u00e9tapes<ul> <li>L'URL de la page d'accueil, exemple :<ul> <li><code>https://workshop.lizmap.com/osgeo_matin/</code></li> <li><code>https://workshop.lizmap.com/osgeo_am/</code></li> </ul> </li> <li>Le nom d'utilisateur et son mot de passe</li> <li>Si ces informations sont corrects, il demande le nom du serveur. Ce nom est libre, pour votre organisation.</li> </ul> </li> <li>Si votre serveur s'affiche bien dans le tableau, c'est bon \ud83d\udc4d</li> <li>Dans les param\u00e8tres :<ul> <li>Enregistrer le projet QGIS automatiquement</li> <li>Passer en mode D\u00e9butant \ud83d\ude0f</li> </ul> </li> <li>Fermer l'extension Lizmap</li> </ul>"},{"location":"workshop/fr/lizmap-short-02-first-map/#manipulation-dans-qgis","title":"Manipulation dans QGIS","text":"<ul> <li>Ouvrir le projet</li> <li>Mettre un zoom et une emprise correcte (en montrant toutes les \u00eeles)</li> <li>Dans les propri\u00e9t\u00e9s du projet :<ul> <li>Menu Projet / Propri\u00e9t\u00e9s</li> <li>Onglet Relations, ajouter toutes les relations automatiquement avec le bouton d\u00e9couvrir (si PostgreSQL)</li> <li>Onglet QGIS Serveur,<ul> <li>Capacit\u00e9s des services<ul> <li>mettre un titre et un r\u00e9sum\u00e9</li> </ul> </li> <li>Capacit\u00e9 WMS<ul> <li>utiliser l'emprise actuelle du canevas dans l'\u00e9tendue annonc\u00e9e.</li> </ul> </li> <li>Capacit\u00e9 WFS<ul> <li>publier toutes les couches</li> </ul> </li> </ul> </li> <li>Cliquer sur OK.\"</li> </ul> </li> <li>Ouvrir l'extension Lizmap</li> <li>Dans l'onglet Envoi, il faut envoyer les donn\u00e9es fichiers, dans le bon dossier <code>theme formation</code>.</li> <li>Quitter l'extension Lizmap (le fichier Lizmap est cr\u00e9\u00e9 d\u00e8s que l'on ferme la fen\u00eatre)</li> </ul> <p>Tip</p> <p>Bonus si vous avez une petite image PNG qui se nomme <code>nom_du_projet.qgs.png</code> pour remplacer l'image du projet par d\u00e9faut. Vous pouvez regarder l'aide dans l'extension Lizmap \u2192 Options de la carte pour avoir de l'aide sur la vignette. Il faut mettre cette image \u00e0 c\u00f4t\u00e9 de votre fichier <code>nom_du_projet.qgs</code>. L'image peut-\u00eatre jpeg aussi.</p>"},{"location":"workshop/fr/lizmap-short-02-first-map/#prendre-en-main-linterface-web-lizmap","title":"Prendre en main l'interface web Lizmap","text":"<ul> <li>Se rendre dans l'interface d'administration<ul> <li>Les dossiers</li> </ul> </li> </ul> <p>Warning</p> <p>Seul un participant va faire la manipulation suivante afin de publier le dossier avec l'ensemble des projets QGIS.</p> <ul> <li>Se rendre sur la page d'accueil puis sur votre carte</li> </ul> <p>Success</p> <p>Dans votre l\u00e9gende Lizmap, si vous pouvez voir vos couches et les afficher, c'est que \u00e7a marche !</p> <p>Nous allons d\u00e9sormais personnaliser l'affichage de nos couches, par exemple afficher certaines couches par d\u00e9faut \ud83d\udc49</p>"},{"location":"workshop/fr/lizmap-short-03-legend/","title":"L\u00e9gende","text":"<ul> <li>Faire des groupes dans la l\u00e9gende<ul> <li><code>Saisie</code></li> <li><code>Donn\u00e9es</code></li> </ul> </li> <li>\u00c0 l'aide de l'extension Lizmap, dans l'onglet Fond de cartes :<ul> <li>on peut ajouter le fond \"Orthophoto\", qui va ajouter lui-m\u00eame un groupe <code>baselayers</code></li> </ul> </li> <li>Ranger les couches dans les groupes en regardant la capture ci-dessous  </li> <li>Renommer les couches avec un nom plus pr\u00e9sentable</li> </ul> <p>** Note, je ne vais plus utiliser le groupe <code>hidden</code>.</p> <p></p> <p>Success</p> <p>Lizmap utilise QGIS Serveur en arri\u00e8re-plan, la l\u00e9gende est donc identique que sur QGIS Bureautique.</p> <p>Certaines configurations dans le projet QGIS ou dans l'extension Lizmap ont un impact dans l'interface web.</p> <p>Tip</p> <p>\u00c0 partir de maintenant, envoyez souvent les donn\u00e9es sur le serveur pour voir les modifications.</p> <ul> <li>Faire une symbologie rapide sur les points.</li> <li>Ajouter des \u00e9tiquettes avec le nom de la commune et ajouter un seuil de visibilit\u00e9 en fonction de l'\u00e9chelle (1:300 000)<ul> <li>Champs <code>name</code> pour la source des \u00e9tiquettes</li> <li>Onglet Rendu, seuil de visibilit\u00e9 minimum 1:300 000</li> </ul> </li> <li>Manipulation dans l'extension Lizmap, dans l'onglet Couches :<ul> <li>Pour les communes, mettre la couche visible par d\u00e9faut</li> <li> <p>Ajouter des liens sur deux couches :</p> <ul> <li> <p>Fichiers PDF pour les observateurs :</p> <ul> <li><code>media/metadata.pdf</code> (un fichier se trouvant d\u00e9j\u00e0 sur le serveur, ne pas faire l'envoi \u2757)</li> <li>ou alors un fichier \u00e0 vous <code>media/votre_document.extension</code> et faire l'envoi vers le serveur</li> </ul> </li> <li> <p>Lien HTML pour les communes : <code>https://fr.wikipedia.org/wiki/Liste_des_communes_de_la_Polyn%C3%A9sie_fran%C3%A7aise</code></p> <ul> <li>Dans l'onglet fond, ajouter la couche IGN France Orthophoto. D\u00e9sormais, on n'a plus besoin de cl\u00e9.</li> </ul> </li> </ul> </li> </ul> </li> </ul> <p></p> <p>Rendons notre carte \"interactif\" pour r\u00e9pondre au clic sur la carte avec l'usage des popups \ud83d\udc49</p>"},{"location":"workshop/fr/lizmap-short-04-popups/","title":"Interactions au clic","text":"<p>D\u00e9couvrons le principe des popups automatiques et Infobulle QGIS.</p>"},{"location":"workshop/fr/lizmap-short-04-popups/#automatique","title":"Automatique","text":"<ul> <li>Se rendre dans l'extension Lizmap, onglet couches</li> <li>Activer les popups sur la couche <code>commune</code> en mode Automatique</li> <li>V\u00e9rifier le r\u00e9sultat en cliquant sur une commune dans la carte Lizmap</li> </ul>"},{"location":"workshop/fr/lizmap-short-04-popups/#infobulle-qgis","title":"Infobulle QGIS","text":"<ul> <li>Retourner dans l'extension Lizmap</li> <li>Changer la popup un mode Infobulle QGIS sur la m\u00eame couche et cliquer sur le bouton G\u00e9n\u00e9rer un tableau HTML.</li> <li>Dans les propri\u00e9t\u00e9s de la couche vecteur <code>commune</code>, onglet Affichage, puis Infobulle HTML, observer le code HTML.</li> </ul> <p>Tip</p> <p>Dans QGIS \u27a1 Vue \u27a1 Panneaux \u2192 Aper\u00e7u HTML Lizmap pour afficher directement dans QGIS bureautique. Vous devez s\u00e9lectionner aussi l'outil infobulle dans la barre d'outils.</p> <p>Ces informations avec les infobulles QGIS sont tr\u00e8s puissantes gr\u00e2ce \u00e0 l'utilisation des expressions QGIS \ud83d\ude80</p>"},{"location":"workshop/fr/lizmap-short-04-popups/#personnalisation-de-linfobulle","title":"Personnalisation de l'infobulle","text":"<p>Tip</p> <p>On peut facilement supprimer un champ du rendu HTML en supprimant l'ensemble d'un bloc <code>&lt;tr&gt;...&lt;/tr&gt;</code>.</p> <p>On peut aussi utiliser des expressions QGIS :</p> <ul> <li>Mettre en majuscule le nom de la commune</li> <li>Afficher la population en rouge si moins de 20 000 habitants</li> </ul> Afficher les solutions <ul> <li>Premi\u00e8re solution pour les majuscules : <pre><code>[% upper(\"name\") %]\n</code></pre></li> <li>Deuxi\u00e8me solution pour la population en rouge : <pre><code>&lt;td style=\"color:[% if( \"population\" &gt; 20000, 'black', 'red') %]\"&gt;[% \"population\" %]&lt;/td&gt;\n</code></pre></li> </ul> <p>Success</p> <p>Les expressions QGIS sont vraiment puissantes pour dynamiser du contenu.</p> <p>Nous allons voir comment publier la table attributaire d'une couche \ud83d\udc49</p>"},{"location":"workshop/fr/lizmap-short-05-attribute-table/","title":"Table attributaire","text":"<ul> <li>Depuis l'extension, activer la table attributaire pour la couche des communes.<ul> <li>Dans l'onglet table attributaire, ajouter une nouvelle couche</li> </ul> </li> </ul> <p>Tip</p> <p>On peut am\u00e9liorer le visuel de notre table attributaire en ajoutant des alias sur nos champs :</p> <ul> <li>Propri\u00e9t\u00e9s de la couche vecteur \u27a1 Formulaire d'attribut \u27a1 Alias pour chaque champ</li> </ul> <p>Ces alias sont aussi pr\u00e9sent dans la popup Automatique ou lors de la g\u00e9n\u00e9ration du HTML !</p> <p>Success</p> <p>Pour ceux qui ont le temps, vous pouvez aussi regarder les outils de s\u00e9lection.</p> <p>Passons \u00e0 la prochaine \u00e9tape, l'\u00e9dition d'une couche directement depuis l'interface web \ud83d\udc49</p>"},{"location":"workshop/fr/lizmap-short-06-editing/","title":"\u00c9dition d'une couche","text":"<p>On souhaite d\u00e9sormais rendre \u00e9ditable une couche depuis l'interface web afin de pouvoir ajouter des observations.</p> <ul> <li>Dans QGIS, faire un essai du formulaire par d\u00e9faut sur la couche des observations. Vous avez besoin de passer en mode \u00e9dition d'abord avec le petit crayon jaune.</li> <li>Am\u00e9liorer le formulaire dans QGIS :<ul> <li>Propri\u00e9t\u00e9s de la couche \u27a1 Formulaire d'attributs \u27a1 Conception par glisser/d\u00e9poser</li> <li>Supprimer le champ <code>id</code></li> <li>Faire 2 groupes : <code>Requis</code> et <code>Optionel</code></li> </ul> </li> </ul> <p></p> <ul> <li>Configurer les champs :<ul> <li><code>fk_id_person</code> : <ul> <li>Alias <code>Observateur</code></li> <li>R\u00e9f\u00e9rence de la relation avec <code>name</code></li> </ul> </li> <li><code>fk_id_specie</code> : <ul> <li>Alias <code>Esp\u00e8ce</code></li> <li>Valeur relationnelle <code>species</code> <code>id</code> et <code>es_nom_commun</code></li> </ul> </li> <li><code>date</code> : <ul> <li>Alias <code>Date</code></li> <li>Date/heure par d\u00e9faut</li> </ul> </li> <li><code>photo</code> : <ul> <li>Alias <code>Photo</code></li> <li>Pi\u00e8ce jointe</li> </ul> </li> <li><code>gender</code> : <ul> <li>Alias <code>Genre</code></li> <li>Liste de valeurs : <code>M\u00e2le</code>, <code>Femelle</code></li> </ul> </li> </ul> </li> </ul> <p></p> <ul> <li>Une fois que le formulaire est OK dans QGIS (\u00e0 peu pr\u00e8s \ud83d\ude42), ajouter l'\u00e9dition dans l'extension Lizmap pour cette couche.</li> </ul> <p>Success</p> <p>On peut utiliser des expressions QGIS dans les formulaires (visibilit\u00e9, conditions, valeurs par d\u00e9faut etc). Lire la documentation.</p> <p>Tip</p> <p>En l'absence de couches PostgreSQL pour cette formation, on peut voir le projet d\u00e9j\u00e0 fait.</p> <p>D\u00e9sormais, on souhaite pouvoir proposer des exports PDF, avec ou sans atlas dans notre projet \ud83d\udc49</p>"},{"location":"workshop/fr/lizmap-short-07-print/","title":"Impression PDF","text":""},{"location":"workshop/fr/lizmap-short-07-print/#choix-de-la-zone-dimpression-par-lutilisateur","title":"Choix de la zone d'impression par l'utilisateur","text":"<ul> <li>Dans le projet QGIS, il y a d\u00e9j\u00e0 une mise en page <code>Landscape A4</code>.</li> <li>Dans l'extension Lizmap, onglet Impression, v\u00e9rifiez la prise en compte de la mise en page<ul> <li>Vous pouvez modifier si vous le souhaitez certains param\u00e8tres</li> </ul> </li> <li>Se rendre sur Lizmap pour voir le r\u00e9sultat</li> <li>On peut rendre du contenu \"modifiable par l'utilisateur\" concernant certaines \u00e9tiquettes<ul> <li>Personnaliser la zone de titre dans le PDF :<ul> <li>Clic sur le titre <code>Example workshop</code></li> <li>Identifiant de l'objet \u27a1 <code>title</code></li> </ul> </li> </ul> </li> </ul> <p>Success</p> <p>Dans ce cas-l\u00e0, c'est l'utilisateur qui choisit ce qu'il souhaite imprimer en PDF.</p> <p>Warning</p> <p>Probl\u00e8me avec QGIS \u2265 3.34, temporaire, le texte dynamique ne fonctionne plus \ud83d\ude14 Nous sommes sur un correctif, patience \u23f0</p> <p></p>"},{"location":"workshop/fr/lizmap-short-07-print/#apres-un-clic-sur-la-carte-liee-a-une-entite","title":"Apr\u00e8s un clic sur la carte, li\u00e9e \u00e0 une entit\u00e9","text":"<ul> <li>Dupliquer la mise en page actuelle et en faire un atlas :<ul> <li>Menu Projet, Gestionnaire de mise en page, Dupliquer, nom <code>Fiche commune PDF</code></li> <li>\u00c9diter cette nouvelle mise en page</li> <li>Activer l'atlas sur la couche des communes</li> <li>Changer le titre pour afficher le nom de la commune</li> <li>Configurer la carte pour suivre l'atlas.</li> <li>Se rendre dans l'extension Lizmap, onglet Impression pour confirmer la prise en compte</li> <li>Vous pouvez modifier si vous le souhaitez certains param\u00e8tres</li> </ul> </li> </ul> <p>Success</p> <p>Alors que dans ce cas-l\u00e0, le PDF est li\u00e9 \u00e0 une entit\u00e9 pr\u00e9cise, en haut de sa popup.</p> <p>Passons \u00e0 la derni\u00e8re partie, l'ajout de graphiques dans notre projet \ud83d\udc49</p>"},{"location":"workshop/fr/lizmap-short-08-dataviz/","title":"Dataviz","text":""},{"location":"workshop/fr/lizmap-short-08-dataviz/#diagramme-en-bar","title":"Diagramme en bar","text":"<ul> <li>Ajouter un diagramme en bar concernant la population sur la couche des communes (et non pas un histogramme).<ul> <li>Title</li> <li>Description</li> <li>Couche : commune</li> <li>Champ X : Nom</li> <li>Pas d'agr\u00e9gation</li> <li>Trace :<ul> <li>champ population</li> <li>couleur bleue</li> </ul> </li> </ul> </li> </ul>"},{"location":"workshop/fr/lizmap-short-08-dataviz/#camembert","title":"Camembert","text":"<ul> <li>Faire un camembert sur la r\u00e9partition des observateurs :<ul> <li>Ajouter un champ virtuel <code>count</code> dans <code>observateurs</code> de type entiers :</li> </ul> </li> </ul> <pre><code>relation_aggregate(\n    relation:='observation_fk_id_person_fkey',\n    aggregate:='count',\n    expression:=\"id\"\n)\n</code></pre> <ul> <li>Puis ajouter le camembert :<ul> <li>Title</li> <li>Description</li> <li>Couche : Observateurs</li> <li>Champ X : Nom</li> <li>Agr\u00e9gation sum</li> <li>Trace : count</li> </ul> </li> </ul>"},{"location":"workshop/fr/lizmap-short-08-dataviz/#filtrage-sur-les-graphiques","title":"Filtrage sur les graphiques","text":"<p>Pour le moment, ce sont des graphiques montrant une couche enti\u00e8re. Il est possible de faire des graphiques pour une entit\u00e9 pr\u00e9cise, par exemple, la r\u00e9partition des esp\u00e8ces pour un observateur.</p> <p></p> <ul> <li>Ajouter un champ virtuel <code>label_species</code> (text) dans la couche <code>observations</code> pour avoir le nom de l'esp\u00e8ce :</li> </ul> <pre><code>attribute(get_feature('species_aa247cf3_58c8_4852_8ada_1d707a593cfe', 'id', \"fk_id_specie\"),'es_nom_commun')\n</code></pre> <ul> <li> <p>Ajouter un camembert sur la couche des observateurs :</p> <ul> <li>Camembert</li> <li>Titre : Esp\u00e8ce de l'observateur</li> <li>Couche : Observations</li> <li>Champ X : <code>label_species</code></li> <li>Agr\u00e9gation <code>Count</code></li> <li>Traces : <code>id</code></li> <li>Case \u00e0 cocher Afficher le graphique filtr\u00e9 dans la popup du parent</li> <li>Case \u00e0 cocher Afficher seulement dans les popups des enfants</li> </ul> </li> </ul> <p></p> R\u00e9sultat final <p></p> <p>Success</p> <p>Pour les curieux, je vous recommande le tutoriel vid\u00e9o sur les relations entre les couches et la dataviz.</p> <p>Merci de votre attention \ud83d\ude0e</p>"}]}